<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.57">

  <title>EECE7398 Fall 2024 – Overview of Bril</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="../site_libs/quarto-diagram/mermaid.min.js"></script>
  <script src="../site_libs/quarto-diagram/mermaid-init.js"></script>
  <link href="../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
<meta property="og:title" content="Overview of Bril – EECE7398 Fall 2024">
<meta property="og:site_name" content="EECE7398 Fall 2024">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Overview of Bril</h1>

<div class="quarto-title-authors">
</div>

</section>
<section id="how-to-use-bril-with-real-code" class="slide level2 scrollable">
<h2>How to use Bril with real code</h2>
<ol type="1">
<li>Bril is very simple, very regular, ir.</li>
<li>Bril can be extended easily.</li>
<li>Bril has lots of tools and examples.</li>
<li>Bril tools are written in lots of languages so setup can be messy</li>
</ol>
</section>
<section id="lets-look-at-a-bril-program." class="slide level2">
<h2>Lets look at a bril program.</h2>
<p>Bril is written in JSON format. Almost all programming languages have a way to read json.</p>
<div id="5c754edb" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a></a><span class="im">import</span> json</span>
<span id="cb1-2"><a></a><span class="im">import</span> subprocess</span>
<span id="cb1-3"><a></a><span class="im">import</span> os </span>
<span id="cb1-4"><a></a><span class="im">import</span> sys</span>
<span id="cb1-5"><a></a></span>
<span id="cb1-6"><a></a><span class="co"># read from a file </span></span>
<span id="cb1-7"><a></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"images/add.json"</span>,<span class="st">"r"</span>) <span class="im">as</span> f:</span>
<span id="cb1-8"><a></a>    bril_program <span class="op">=</span> json.load(f)</span>
<span id="cb1-9"><a></a></span>
<span id="cb1-10"><a></a><span class="co"># read from a pipe</span></span>
<span id="cb1-11"><a></a><span class="co"># bril_program = json.load(sys.stdin)</span></span>
<span id="cb1-12"><a></a>    </span>
<span id="cb1-13"><a></a><span class="bu">print</span>(json.dumps(bril_program, </span>
<span id="cb1-14"><a></a>    indent<span class="op">=</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

</section>
<section id="lets-look-at-a-bril-program.-output" class="slide level2 output-location-slide"><h2>Lets look at a bril program.</h2><div class="cell output-location-slide" data-execution_count="1">
<div class="cell-output cell-output-stdout">
<pre><code>{
  "functions": [
    {
      "name": "main",
      "instrs": [
        {
          "op": "const",
          "type": "int",
          "dest": "v0",
          "value": 1
        },
        {
          "op": "const",
          "type": "int",
          "dest": "v1",
          "value": 2
        },
        {
          "op": "add",
          "type": "int",
          "dest": "v2",
          "args": [
            "v0",
            "v1"
          ]
        },
        {
          "op": "print",
          "args": [
            "v2"
          ]
        }
      ],
      "args": []
    }
  ]
}</code></pre>
</div>
</div></section><section id="formatted" class="slide level2">
<h2>Formatted</h2>
<pre><code>{
  "functions": [
    {
      "instrs": [
        {"dest": "v0", "op": "const","type": "int","value": 1},
        {"dest": "v1", "op": "const","type": "int","value": 2},
        {"dest": "v2", "op": "add",  "type": "int","args": ["v0","v1"],},
                       "op": "print","args": [ "v2"],}],
      "name": "main",
    }
  ]
}</code></pre>
</section>
<section id="getting-started" class="slide level2 scrollable">
<h2>getting started</h2>
<p>links:</p>
<ol type="1">
<li><a href="https://capra.cs.cornell.edu/bril/">Language specification</a></li>
<li><a href="https://github.com/sampsyo/bril.git">github site</a></li>
</ol>
</section>
<section id="step-1-clone-the-bril-repo-on-a-linux-or-wsl-machine" class="slide level2">
<h2>step 1 clone the bril repo on a linux or wsl machine</h2>
<p>git clone https://github.com/sampsyo/bril.git</p>
</section>
<section id="step-2-support-packages" class="slide level2 scrollable">
<h2>step 2 support packages</h2>
<ol type="1">
<li><a href="https://deno.com/">deno</a> is the runtime for typescript/javascript</li>
</ol>
<p>curl -fsSL https://deno.land/install.sh | sh</p>
<p>on my ubuntu machine ‘sudo snap install deno’ also worked</p>
<p>you may need to add $HOME/.deno/bin to your $PATH.</p>
<ol start="2" type="1">
<li><a href="https://flit.pypa.io/en/stable/">flit</a> a python package manager</li>
</ol>
<p>python3 -m pip install flit</p>
</section>
<section id="step-3-install-the-bril-interpreter-and-the-typescript-to-bril-compiler" class="slide level2">
<h2>step 3 install the bril interpreter, and the typescript to bril compiler</h2>
<pre><code>cd bril
deno install brili.ts 
deno install --allow-env --allow-read ts2bril.ts
 </code></pre>
</section>
<section id="running-the-interpreter" class="slide level2">
<h2>running the interpreter</h2>
<p>brili &lt;images/add.json</p>
<p>brili -p &lt;images/add.json</p>
<p>the -p flag turns on profiling</p>
</section>
<section id="text-to-json-and-back" class="slide level2">
<h2>text to json and back</h2>
<p>There are programs <strong><em>bril2txt</em></strong> and <strong><em>bril2json</em></strong> that make it easy to convert. Keep in mind that the json format is Bril and thats where you will do all the work.</p>
<p>install text tools</p>
<pre><code>cd bril-txt
flit install --symlink --user</code></pre>
<p>run json to text</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1"><a></a>bril2txt &lt; images/add.json</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="connect-tools-via-pipes" class="slide level2">
<h2>connect tools via pipes</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource {bash} number-lines code-with-copy"><code class="sourceCode"><span id="cb7-1"><a></a>cat images/add.json'</span>
<span id="cb7-2"><a></a>bril2txt &lt; images/add.json | bril2json</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="other-tools" class="slide level2">
<h2>Other tools</h2>
<p>There is also a fast interpreter written in <a href="https://www.rust-lang.org/tools/install">Rust</a> see docs for installation</p>
</section>
<section id="turnt-tiny-unified-runner-and-tester" class="slide level2">
<h2><a href="https://github.com/cucapra/turnt">turnt</a> Tiny unified runner and tester</h2>
<p>Bril uses <a href="https://github.com/cucapra/turnt">turnt</a> as a test tool</p>
<p>Turnt is a simple snapshot testing tool inspired by LLVM’s lit. It’s good for testing things that translate text files to other text files, like compilers. The idea is that each test is one input file, and you want to run a command and check that it still matches the saved output file.</p>
<p>pip install –user turnt</p>
<p>As you think about your projects, you might consider adding a new tool. you can setup Bril on your local linux (can be wsl) machine</p>
</section>
<section id="gen-cfg" class="slide level2 scrollable">
<h2>Gen CFG</h2>
<p>Lets write a sample program - that generates the cfg</p>
<p>How would you do that?</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource {plaintext} number-lines code-with-copy"><code class="sourceCode"><span id="cb8-1"><a></a>{</span>
<span id="cb8-2"><a></a>  "functions": [</span>
<span id="cb8-3"><a></a>    {</span>
<span id="cb8-4"><a></a>      "name": "main",</span>
<span id="cb8-5"><a></a>      "instrs": [</span>
<span id="cb8-6"><a></a>        { "op": "const", "type": "int", "dest": "v0", "value": 1 },</span>
<span id="cb8-7"><a></a>        { "op": "const", "type": "int", "dest": "v1", "value": 2 },</span>
<span id="cb8-8"><a></a>        { "op": "add", "type": "int", "dest": "v2",</span>
<span id="cb8-9"><a></a>          "args": ["v0", "v1"] },</span>
<span id="cb8-10"><a></a>        { "op": "print", "args": ["v2"] }</span>
<span id="cb8-11"><a></a>      ],</span>
<span id="cb8-12"><a></a>      "args": []</span>
<span id="cb8-13"><a></a>    }</span>
<span id="cb8-14"><a></a>  ]</span>
<span id="cb8-15"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<p>I’ll do this in two steps</p>
<ol type="1">
<li>find all the basic blocks</li>
<li>add all the cfg edges</li>
</ol>
<p>You can also do this in a single step, adding cfg edges as soon as you reach the successor node.</p>
</div>
</section>
<section id="basic-blocks-from-a-list-of-instructions-" class="slide level2">
<h2>basic blocks from a list of instructions-</h2>
<p>keep adding instructions till we get to a terminator or a label (do we add labels?)</p>
<div class="fragment">
<pre><code>in: list of instrs 
out: list of lists of instrs 
 
blocks = []
curr_block = []
for each instr in list 
    if the instruction is not a label put it on curr_block
    if instr is a label or terminator 
       put curr_block on blocks
       curr_block = []
 
 if curr_block is not empty add it to blocks
 return blocks </code></pre>
<p>two labels in a row do not need another block</p>
</div>
</section>
<section id="step-2-add-edges" class="slide level2">
<h2>step 2 add edges</h2>
<pre><code>find cfg: in: is bril program in json 
for each function find the list of basic blocks
for each basic block
   get last_instr 
   if it is a terminator  br/jmp/ret 
     add edge from current block to successor  
    --- what do we want to do with call? 
   else it is a fall through
      add edge to next block</code></pre>
<div class="fragment">
<p>we need a map (block_map) label-&gt;block so we can add edges for blocks that end in br/jmp - can build this while getting the blocks or we can put the label as the first instruction</p>
<p>how do we handle fall through?</p>
<p>what about a return</p>
<p>if every block ends with a terminator, and every block has a label, then no fall through case</p>
<p>what happens if try to delete the terminator (because the block never executes)</p>
</div>
</section>
<section id="code" class="slide level2">
<h2>code</h2>
<p>I’ll use a python data structure called <strong><em>OrderedDict</em></strong>, when you iterate over the items in a ordered dict, they come back in the order that they were installed.</p>
</section>
<section class="slide level2">

<p>GitHub Copilot says:</p>
<p>OrderedDict in Python is a dictionary subclass that maintains the order in which keys are inserted. When iterating over an OrderedDict, the items are returned in the order they were added. This behavior contrasts with a standard dictionary in Python 3.6 and earlier, where the iteration order was not guaranteed. However, starting from Python 3.7, the built-in dict type also maintains insertion order by default, making OrderedDict less necessary for most applications. OrderedDict still provides additional functionality, such as the move_to_end method, which allows moving an existing key to either end of the dictionary.</p>
</section>
<section id="ill-use-a-generator" class="slide level2 scrollable">
<h2>I’ll use a generator</h2>
<p>In Python, a generator is an iterator that is defined with a function using the yield statement.</p>
<ol type="1">
<li>Produce items only once</li>
<li>Do not store all the items in memory</li>
<li>When items from the generator are requested, the function executes until it reaches a yield statement, which produces the next value. Execution then pauses, preserving the function’s state, until the next item is requested.</li>
</ol>
</section>
<section class="slide level2">

<p>Given a list of Bril instructions, generate a sequence of instruction lists representing the basic blocks in the program.</p>
<p>Every instruction in <code>instr</code> will show up in exactly one block. Jump and branch instructions may only appear at the end of a block, and control can transfer only to the top of a basic block—so labels can only appear at the <em>start</em> of a basic block. Basic blocks may not be empty.</p>
</section>
<section class="slide level2">

<div id="d67b0df5" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a></a>    <span class="co">#Instructions that terminate a basic block.</span></span>
<span id="cb11-2"><a></a>    TERMINATORS <span class="op">=</span> <span class="st">'br'</span>, <span class="st">'jmp'</span>, <span class="st">'ret'</span></span>
<span id="cb11-3"><a></a></span>
<span id="cb11-4"><a></a>    <span class="kw">def</span> form_blocks(instrs):</span>
<span id="cb11-5"><a></a>        <span class="co"># Start with an empty block.</span></span>
<span id="cb11-6"><a></a>        cur_block <span class="op">=</span> []</span>
<span id="cb11-7"><a></a></span>
<span id="cb11-8"><a></a>        <span class="cf">for</span> instr <span class="kw">in</span> instrs:</span>
<span id="cb11-9"><a></a>            <span class="cf">if</span> <span class="st">'op'</span> <span class="kw">in</span> instr:  <span class="co"># It's an instruction.</span></span>
<span id="cb11-10"><a></a>                <span class="co"># Add the instruction to the currently-being-formed block.</span></span>
<span id="cb11-11"><a></a>                cur_block.append(instr)</span>
<span id="cb11-12"><a></a></span>
<span id="cb11-13"><a></a>                <span class="co"># If this is a terminator (branching instruction), it's the</span></span>
<span id="cb11-14"><a></a>                <span class="co"># last instruction in the block. Finish this block and</span></span>
<span id="cb11-15"><a></a>                <span class="co"># start a new one.</span></span>
<span id="cb11-16"><a></a>                <span class="cf">if</span> instr[<span class="st">'op'</span>] <span class="kw">in</span> TERMINATORS:</span>
<span id="cb11-17"><a></a>                    <span class="cf">yield</span> cur_block</span>
<span id="cb11-18"><a></a>                    cur_block <span class="op">=</span> []</span>
<span id="cb11-19"><a></a>            </span>
<span id="cb11-20"><a></a>            <span class="cf">else</span>:  <span class="co"># It's a label.</span></span>
<span id="cb11-21"><a></a>                <span class="co"># End the block here (if it contains anything).</span></span>
<span id="cb11-22"><a></a>                <span class="cf">if</span> cur_block:</span>
<span id="cb11-23"><a></a>                    <span class="cf">yield</span> cur_block</span>
<span id="cb11-24"><a></a></span>
<span id="cb11-25"><a></a>                <span class="co"># Start a new block with the label.</span></span>
<span id="cb11-26"><a></a>                cur_block <span class="op">=</span> [instr]</span>
<span id="cb11-27"><a></a></span>
<span id="cb11-28"><a></a>        <span class="co"># Produce the final block, if any.</span></span>
<span id="cb11-29"><a></a>        <span class="cf">if</span> cur_block:</span>
<span id="cb11-30"><a></a>            <span class="cf">yield</span> cur_block</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

</section>
<section id="" class="slide level2 output-location-slide"><div class="cell output-location-slide" data-execution_count="2">

</div></section><section id="as-a-test-lets-print-out-the-blocks" class="slide level2">
<h2>as a test, lets print out the blocks</h2>
<div id="243d28b9" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a></a><span class="kw">def</span> print_blocks(bril):</span>
<span id="cb12-2"><a></a>    <span class="co">"""Given a Bril program, print out its basic blocks.</span></span>
<span id="cb12-3"><a></a><span class="co">    """</span></span>
<span id="cb12-4"><a></a></span>
<span id="cb12-5"><a></a></span>
<span id="cb12-6"><a></a>    func <span class="op">=</span> bril[<span class="st">'functions'</span>][<span class="dv">0</span>]  <span class="co"># We only process one function.</span></span>
<span id="cb12-7"><a></a>    <span class="cf">for</span> block <span class="kw">in</span> form_blocks(func[<span class="st">'instrs'</span>]):</span>
<span id="cb12-8"><a></a>        <span class="co"># Mark the block.</span></span>
<span id="cb12-9"><a></a>        leader <span class="op">=</span> block[<span class="dv">0</span>]</span>
<span id="cb12-10"><a></a>        <span class="cf">if</span> <span class="st">'label'</span> <span class="kw">in</span> leader:</span>
<span id="cb12-11"><a></a>            <span class="bu">print</span>( <span class="ss">f"block </span><span class="sc">{</span>leader[<span class="st">'label'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb12-12"><a></a>            block <span class="op">=</span> block[<span class="dv">1</span>:]  <span class="co"># Hide the label</span></span>
<span id="cb12-13"><a></a>        <span class="cf">else</span>:</span>
<span id="cb12-14"><a></a>            <span class="bu">print</span>(<span class="st">'anonymous block:'</span>)</span>
<span id="cb12-15"><a></a></span>
<span id="cb12-16"><a></a>        <span class="co"># Print the instructions.</span></span>
<span id="cb12-17"><a></a>        <span class="cf">for</span> instr <span class="kw">in</span> block:</span>
<span id="cb12-18"><a></a>            <span class="bu">print</span>(instr)</span>
<span id="cb12-19"><a></a></span>
<span id="cb12-20"><a></a>print_blocks(bril_program)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

<p>this test program has one block so pretty easy</p>
</section>
<section id="as-a-test-lets-print-out-the-blocks-output" class="slide level2 output-location-slide"><h2>as a test, lets print out the blocks</h2><div class="cell output-location-slide" data-execution_count="3">
<div class="cell-output cell-output-stdout">
<pre><code>anonymous block:
{'op': 'const', 'type': 'int', 'dest': 'v0', 'value': 1}
{'op': 'const', 'type': 'int', 'dest': 'v1', 'value': 2}
{'op': 'add', 'type': 'int', 'dest': 'v2', 'args': ['v0', 'v1']}
{'op': 'print', 'args': ['v2']}</code></pre>
</div>
</div></section><section id="lets-try-a-second-example-with-a-jmp" class="slide level2">
<h2>lets try a second example with a jmp</h2>
<pre><code>@main {
  v: int = const 4;
  jmp .somewhere;
  v: int = const 2;
.somewhere:
  print v;
}</code></pre>
</section>
<section id="running-commands-inside-python" class="slide level2">
<h2>running commands inside python</h2>
<p>GitHub Copilot: subprocess.check_output is a function in Python’s subprocess module that runs a command with arguments and returns its output as a byte string. If the command exits with a non-zero exit status, it raises a CalledProcessError, which includes the exit status and output of the command. This function is useful for capturing the output of a command for further processing in Python.</p>
</section>
<section class="slide level2">

<div id="7cdbeb94" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a></a><span class="im">import</span> subprocess</span>
<span id="cb15-2"><a></a></span>
<span id="cb15-3"><a></a><span class="co"># Run a command and capture its output</span></span>
<span id="cb15-4"><a></a>output <span class="op">=</span> subprocess.check_output([<span class="st">'ls'</span>, <span class="st">'-l'</span>])</span>
<span id="cb15-5"><a></a></span>
<span id="cb15-6"><a></a><span class="co"># Convert the byte string to a regular string (assuming UTF-8 encoding)</span></span>
<span id="cb15-7"><a></a>output_str <span class="op">=</span> output.decode(<span class="st">'utf-8'</span>)</span>
<span id="cb15-8"><a></a></span>
<span id="cb15-9"><a></a><span class="bu">print</span>(output_str)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell fragment" data-execution_count="4">
<div class="cell-output cell-output-stdout">
<pre><code>total 672
-rw-r--r-- 1 runner docker 40847 Sep 20 12:27 010_compiler_overview.html
-rw-r--r-- 1 runner docker 11163 Sep 20 12:26 010_compiler_overview.qmd
-rw-r--r-- 1 runner docker  3000 Sep 20 12:26 01a1_performance_measurement.qmd
-rw-r--r-- 1 runner docker  3000 Sep 20 12:26 01a2_performance_measurement.qmd
-rw-r--r-- 1 runner docker  4134 Sep 20 12:26 01a_performance_measurement.qmd
-rw-r--r-- 1 runner docker  7413 Sep 20 12:26 02a_representation.qmd
-rw-r--r-- 1 runner docker 69942 Sep 20 12:27 02b_bril.html
-rw-r--r-- 1 runner docker 13675 Sep 20 12:26 02b_bril.qmd
-rw-r--r-- 1 runner docker 24541 Sep 20 12:27 02b_bril.quarto_ipynb
drwxr-xr-x 4 runner docker  4096 Sep 20 12:27 02b_bril_files
-rw-r--r-- 1 runner docker 12742 Sep 20 12:26 03_local.qmd
-rw-r--r-- 1 runner docker 13488 Sep 20 12:26 03b_local_value_numbering.qmd
-rw-r--r-- 1 runner docker  5154 Sep 20 12:26 04_data_flow.qmd
-rw-r--r-- 1 runner docker  9974 Sep 20 12:26 05_global.qmd
-rw-r--r-- 1 runner docker  4875 Sep 20 12:26 05b_licm.qmd
-rw-r--r-- 1 runner docker 33595 Sep 20 12:27 05c_pre.html
-rw-r--r-- 1 runner docker  3148 Sep 20 12:26 05c_pre.qmd
-rw-r--r-- 1 runner docker 16413 Sep 20 12:26 06_ssa.qmd
-rwxr-xr-x 1 runner docker 29710 Sep 20 12:26 07_llvm.ipynb
-rw-r--r-- 1 runner docker  5691 Sep 20 12:26 08_classic_loop_ops.qmd
-rwxr-xr-x 1 runner docker 32457 Sep 20 12:26 09_poly.qmd
-rw-r--r-- 1 runner docker   302 Sep 20 12:26 100_mlir.qmd
-rw-r--r-- 1 runner docker   320 Sep 20 12:26 110_whole_program.qmd
-rw-r--r-- 1 runner docker 21228 Sep 20 12:27 12_memory.html
-rw-r--r-- 1 runner docker   316 Sep 20 12:26 12_memory.qmd
-rw-r--r-- 1 runner docker 16077 Sep 20 12:26 13_dynamic_compilers.qmd
-rw-r--r-- 1 runner docker 10116 Sep 20 12:26 14_gpu_compilers.qmd
-rw-r--r-- 1 runner docker  4682 Sep 20 12:26 a.json
-rw-r--r-- 1 runner docker   248 Sep 20 12:26 a.ts
drwxr-xr-x 2 runner docker  4096 Sep 20 12:26 df
-rw-r--r-- 1 runner docker  4595 Sep 20 12:26 errors
-rw-r--r-- 1 runner docker  3623 Sep 20 12:26 foo.ll
-rw-r--r-- 1 runner docker  2296 Sep 20 12:26 identity.bc
drwxr-xr-x 2 runner docker  4096 Sep 20 12:26 images
-rw-r--r-- 1 runner docker  2260 Sep 20 12:26 mlir.qmd
drwxr-xr-x 2 runner docker  4096 Sep 20 12:26 papers
drwxr-xr-x 2 runner docker  4096 Sep 20 12:26 ra
-rw-r--r-- 1 runner docker  8226 Sep 20 12:26 ra-checking.qmd
-rw-r--r-- 1 runner docker  7965 Sep 20 12:26 register_allocation.qmd
-rw-r--r-- 1 runner docker 52254 Sep 20 12:27 revealjs_010_compiler_overview.qmd.html
-rw-r--r-- 1 runner docker 44624 Sep 20 12:27 revealjs_05c_pre.qmd.html
-rw-r--r-- 1 runner docker 33176 Sep 20 12:27 revealjs_12_memory.qmd.html
-rw-r--r-- 1 runner docker 22316 Sep 20 12:26 xx
</code></pre>
</div>
</div>
</section>
<section id="print-the-blocks" class="slide level2">
<h2>print the blocks</h2>
<div id="dec236e9" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a></a><span class="im">import</span> json </span>
<span id="cb17-2"><a></a><span class="im">import</span> os</span>
<span id="cb17-3"><a></a><span class="im">import</span> subprocess</span>
<span id="cb17-4"><a></a></span>
<span id="cb17-5"><a></a>result <span class="op">=</span>  subprocess.check_output(<span class="st">'bril2json &lt; images/jmp.bril'</span>, shell<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-6"><a></a>test2json <span class="op">=</span> json.loads(result)</span>
<span id="cb17-7"><a></a>print_blocks(test2json)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell fragment" data-execution_count="5">
<div class="cell-output cell-output-stdout">
<pre><code>anonymous block:
{'dest': 'v', 'op': 'const', 'type': 'int', 'value': 4}
{'labels': ['somewhere'], 'op': 'jmp'}
anonymous block:
{'dest': 'v', 'op': 'const', 'type': 'int', 'value': 2}
block somewhere
{'args': ['v'], 'op': 'print'}</code></pre>
</div>
</div>
</section>
<section id="the-map-label-names-to-blocks" class="slide level2">
<h2>the map (label names to blocks)</h2>
<div id="0b38f594" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a></a><span class="im">from</span> collections <span class="im">import</span> OrderedDict</span>
<span id="cb19-2"><a></a></span>
<span id="cb19-3"><a></a></span>
<span id="cb19-4"><a></a><span class="kw">def</span> block_map(blocks):</span>
<span id="cb19-5"><a></a>    <span class="co">"""Given a sequence of basic blocks, which are lists of instructions,</span></span>
<span id="cb19-6"><a></a><span class="co">    produce a `OrderedDict` mapping names to blocks.</span></span>
<span id="cb19-7"><a></a></span>
<span id="cb19-8"><a></a><span class="co">    The name of the block comes from the label it starts with, if any.</span></span>
<span id="cb19-9"><a></a><span class="co">    Anonymous blocks, which don't start with a label, get an</span></span>
<span id="cb19-10"><a></a><span class="co">    automatically generated name. Blocks in the mapping have their</span></span>
<span id="cb19-11"><a></a><span class="co">    labels removed.</span></span>
<span id="cb19-12"><a></a><span class="co">    """</span></span>
<span id="cb19-13"><a></a>    by_name <span class="op">=</span> OrderedDict()</span>
<span id="cb19-14"><a></a></span>
<span id="cb19-15"><a></a>    <span class="cf">for</span> block <span class="kw">in</span> blocks:</span>
<span id="cb19-16"><a></a>        <span class="co"># Generate a name for the block.</span></span>
<span id="cb19-17"><a></a>        <span class="cf">if</span> <span class="st">'label'</span> <span class="kw">in</span> block[<span class="dv">0</span>]:</span>
<span id="cb19-18"><a></a>            <span class="co"># The block has a label. Remove the label but use it for the</span></span>
<span id="cb19-19"><a></a>            <span class="co"># block's name.</span></span>
<span id="cb19-20"><a></a>            name <span class="op">=</span> block[<span class="dv">0</span>][<span class="st">'label'</span>]</span>
<span id="cb19-21"><a></a>            block <span class="op">=</span> block[<span class="dv">1</span>:]</span>
<span id="cb19-22"><a></a>        <span class="cf">else</span>:</span>
<span id="cb19-23"><a></a>            <span class="co"># Make up a new name for this anonymous block.</span></span>
<span id="cb19-24"><a></a>            name <span class="op">=</span> <span class="ss">f'gen_bk_</span><span class="sc">{</span><span class="bu">len</span>(by_name)<span class="sc">}</span><span class="ss">'</span></span>
<span id="cb19-25"><a></a></span>
<span id="cb19-26"><a></a>        <span class="co"># Add the block to the mapping.</span></span>
<span id="cb19-27"><a></a>        by_name[name] <span class="op">=</span> block</span>
<span id="cb19-28"><a></a></span>
<span id="cb19-29"><a></a>    <span class="cf">return</span> by_name</span>
<span id="cb19-30"><a></a></span>
<span id="cb19-31"><a></a></span>
<span id="cb19-32"><a></a>blks <span class="op">=</span> form_blocks(test2json[<span class="st">'functions'</span>][<span class="dv">0</span>][<span class="st">'instrs'</span>])</span>
<span id="cb19-33"><a></a>od <span class="op">=</span> block_map(blks)</span>
<span id="cb19-34"><a></a><span class="cf">for</span> (name, instrs) <span class="kw">in</span> od.items():</span>
<span id="cb19-35"><a></a>    <span class="bu">print</span> (name, instrs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

</section>
<section id="the-map-label-names-to-blocks-output" class="slide level2 output-location-slide"><h2>the map (label names to blocks)</h2><div class="cell output-location-slide" data-execution_count="6">
<div class="cell-output cell-output-stdout">
<pre><code>gen_bk_0 [{'dest': 'v', 'op': 'const', 'type': 'int', 'value': 4}, {'labels': ['somewhere'], 'op': 'jmp'}]
gen_bk_1 [{'dest': 'v', 'op': 'const', 'type': 'int', 'value': 2}]
somewhere [{'args': ['v'], 'op': 'print'}]</code></pre>
</div>
</div></section><section id="the-cfg-given-the-block-map-pseudo-code" class="slide level2">
<h2>the cfg given the block map (pseudo code)</h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource {pseudo} number-lines code-with-copy"><code class="sourceCode"><span id="cb21-1"><a></a>out cfg = {} </span>
<span id="cb21-2"><a></a># map label -&gt; list of labels the successors of the block</span>
<span id="cb21-3"><a></a></span>
<span id="cb21-4"><a></a>for i,block in enumerate(blocks)  # blocks is a ordereddict </span>
<span id="cb21-5"><a></a>    last = block[i]  # last instruction</span>
<span id="cb21-6"><a></a>    if last is jmp:</span>
<span id="cb21-7"><a></a>        cfg[block_name] = jmp.dest</span>
<span id="cb21-8"><a></a>    elif last is br:</span>
<span id="cb21-9"><a></a>        cfg[block.name] = [ last.if_label, last.else_label]</span>
<span id="cb21-10"><a></a>    else</span>
<span id="cb21-11"><a></a>        # fall through</span>
<span id="cb21-12"><a></a>        cfg[block_name] = blocks[i+1].name  ## special case for last block</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="cfg" class="slide level2">
<h2>cfg</h2>
<div id="78b0ac36" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a></a><span class="kw">def</span> get_cfg(ordered_blocks):</span>
<span id="cb22-2"><a></a>    cfg <span class="op">=</span> {}</span>
<span id="cb22-3"><a></a></span>
<span id="cb22-4"><a></a>    labels <span class="op">=</span> <span class="bu">list</span>(ordered_blocks.keys())</span>
<span id="cb22-5"><a></a></span>
<span id="cb22-6"><a></a>    <span class="cf">for</span> i, (block_name, block) <span class="kw">in</span> <span class="bu">enumerate</span>(ordered_blocks.items()):</span>
<span id="cb22-7"><a></a>        last <span class="op">=</span> block[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb22-8"><a></a>        op <span class="op">=</span> last[<span class="st">'op'</span>]</span>
<span id="cb22-9"><a></a></span>
<span id="cb22-10"><a></a>        <span class="cf">if</span> op <span class="op">==</span> <span class="st">'jmp'</span>:</span>
<span id="cb22-11"><a></a>            cfg[block_name] <span class="op">=</span> last[<span class="st">'labels'</span>]</span>
<span id="cb22-12"><a></a>        <span class="cf">elif</span> op <span class="op">==</span> <span class="st">'br'</span>:</span>
<span id="cb22-13"><a></a>            cfg[block_name] <span class="op">=</span> last[<span class="st">'labels'</span>]</span>
<span id="cb22-14"><a></a>        <span class="cf">else</span>:</span>
<span id="cb22-15"><a></a>            <span class="cf">if</span> i<span class="op">+</span><span class="dv">1</span> <span class="op">&lt;</span> <span class="bu">len</span>(labels):  <span class="co"># last block does not fall through</span></span>
<span id="cb22-16"><a></a>                cfg[block_name] <span class="op">=</span> [labels[i<span class="op">+</span><span class="dv">1</span>]]</span>
<span id="cb22-17"><a></a>            <span class="cf">else</span>:</span>
<span id="cb22-18"><a></a>                cfg[block_name] <span class="op">=</span> []</span>
<span id="cb22-19"><a></a>    <span class="cf">return</span> cfg</span>
<span id="cb22-20"><a></a></span>
<span id="cb22-21"><a></a></span>
<span id="cb22-22"><a></a>blks <span class="op">=</span> form_blocks(test2json[<span class="st">'functions'</span>][<span class="dv">0</span>][<span class="st">'instrs'</span>])</span>
<span id="cb22-23"><a></a>od <span class="op">=</span> block_map(blks)</span>
<span id="cb22-24"><a></a>cfg <span class="op">=</span> get_cfg(od)</span>
<span id="cb22-25"><a></a></span>
<span id="cb22-26"><a></a><span class="bu">print</span>(cfg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

</section>
<section id="cfg-output" class="slide level2 output-location-slide"><h2>cfg</h2><div class="cell output-location-slide" data-execution_count="7">
<div class="cell-output cell-output-stdout">
<pre><code>{'gen_bk_0': ['somewhere'], 'gen_bk_1': ['somewhere'], 'somewhere': []}</code></pre>
</div>
</div></section><section id="graph" class="slide level2">
<h2>graph</h2>
<div class="cell" data-reveal="true" data-layout-align="default">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource default number-lines code-with-copy"><code class="sourceCode default"><span id="cb24-1"><a></a>%%{init: {"flowchart": {"htmlLabels": false}} }%%</span>
<span id="cb24-2"><a></a></span>
<span id="cb24-3"><a></a>graph TD</span>
<span id="cb24-4"><a></a>gen_bk_0--&gt; somewhere</span>
<span id="cb24-5"><a></a>gen_bk_1 --&gt; somewhere</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

</section>
<section id="graph-output" class="slide level2 output-location-slide"><h2>graph</h2><div class="cell output-location-slide" data-reveal="true" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class=""><p></p>
<div>
<pre class="mermaid mermaid-js">%%{init: {"flowchart": {"htmlLabels": false}} }%%

graph TD
gen_bk_0--&gt; somewhere
gen_bk_1 --&gt; somewhere

</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div></section><section id="homework" class="slide level2">
<h2>homework</h2>
<p>Due in 1 week</p>
<p>Your goal is to get familiar with Bril.</p>
</section>
<section class="slide level2">

<p>Part 1</p>
<p>Write a new benchmark.</p>
<p>You can write it by hand, use the TypeScript compiler, or generate it some other way. Try running it with brili.</p>
<p>Use turnt –save yours.bril to create the test outputs for your new benchmark. (See the Turnt README for details.)</p>
<p>Start your blog post, talking about your benchmark.</p>
</section>
<section class="slide level2">

<p>part 2</p>
<p>Write a program to analyze or transform Bril programs in some small way. Pick your favorite programming language—there is no “starter code,” so you can start from scratch.</p>
<p>Load up a JSON file. You can start with the tiny ones in lectures/images! Read the docs.</p>
<p>Do something unambitious with it: count the number of add instructions, or add a print instruction before every jump, or whatever. Pick something small and contrived! Use Turnt to test your new tool.</p>
<p>Along the way, you will run into problems! Ask questions on github discussions, use open issues and pull requests to describe or fix problems. For example, even super simple benchmarks you might imagine probably can’t be written easily because Bril is too simple. Mention this in discussions, and consider pitching in to help add features.</p>
<p>Think about how to write a good test, and add to your post describing your work, submit the post on github, and finally add a link to the post in canvas, homework 1</p>

<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/normrubin\.github\.io\/");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>